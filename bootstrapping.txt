// install gcc in ~/opt/cross/bin/x86_64-elf-gcc

sudo apt install g++ libgmp-dev libmpfr-dev libmpc-dev texinfo wget
mkdir -p ~/opt/cross
export PREFIX="$HOME/opt/cross"
export TARGET=x86_64-elf
export PATH="$PREFIX/bin:$PATH"

cd ~
wget https://ftp.gnu.org/gnu/binutils/binutils-2.43.tar.xz
wget https://ftp.gnu.org/gnu/gcc/gcc-14.2.0/gcc-14.2.0.tar.xz
tar -xf binutils-2.43.tar.xz
tar -xf gcc-14.2.0.tar.xz

mkdir -p ~/binutils-build
cd ~/binutils-build

../binutils-2.43/configure \
  --target=$TARGET \
  --prefix="$PREFIX" \
  --with-sysroot \
  --disable-nls \
  --disable-werror

make -j$(nproc)
make install

mkdir -p ~/gcc-build
cd ~/gcc-build

../gcc-14.2.0/configure --target=$TARGET --prefix="$PREFIX" \
  --disable-nls --enable-languages=c --without-headers \
  && make all-gcc -j$(nproc) \
  && make all-target-libgcc -j$(nproc) \
  && make install-gcc \
  && make install-target-libgcc




// check
x86_64-elf-gcc --version

// install qemu
sudo apt install qemu-system-x86
make run
make console
make clean


// installation (create an iso image first)
make emulate
sudo dd if=myos.iso of=/dev/sdX bs=4M status=progress oflag=sync
